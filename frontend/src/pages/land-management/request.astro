---
/**
 * Service Request Form Page
 *
 * Eden Grazing Services request form
 * Content source: sme-summary.md (lines 553-578)
 * Route: /land-management/request
 */

import MainLayout from '../../layouts/MainLayout.astro';

// Business info
const businessInfo = {
  name: "Soul Miner's Eden",
  phone: "+1-706-613-4415",
  email: "info@soulminerseden.com",
};

// Property types for dropdown
const propertyTypes = [
  { value: "retention-pond", label: "Retention Pond" },
  { value: "solar-farm", label: "Solar Farm" },
  { value: "hoa-common-area", label: "HOA Common Area" },
  { value: "commercial", label: "Commercial Property" },
  { value: "other", label: "Other" }
];

// Current maintenance methods
const maintenanceMethods = [
  { value: "mowing", label: "Regular Mowing" },
  { value: "chemical", label: "Chemical Treatments" },
  { value: "both", label: "Mowing + Chemical" },
  { value: "none", label: "No Current Maintenance" },
  { value: "other", label: "Other" }
];

// Timeline options
const timelines = [
  { value: "asap", label: "As soon as possible" },
  { value: "1-month", label: "Within 1 month" },
  { value: "3-months", label: "Within 3 months" },
  { value: "exploring", label: "Just exploring options" }
];
---

<MainLayout
  title="Request Service Assessment | Eden Grazing Services | Soul Miner's Eden"
  description="Request a free grazing service assessment for your property. We'll evaluate your site and provide a customized vegetation management plan."
>
  <!-- Hero Section -->
  <section class="bg-gradient-to-br from-accent-600 to-accent-700 text-white py-16 md:py-20">
    <div class="container-custom">
      <div class="max-w-3xl">
        <nav class="text-accent-200 text-sm mb-4">
          <a href="/land-management" class="hover:text-white">Land Management</a>
          <span class="mx-2">/</span>
          <span>Request Assessment</span>
        </nav>
        <h1 class="text-4xl md:text-5xl font-display font-bold mb-6">
          Request a Free Assessment
        </h1>
        <p class="text-xl text-accent-100">
          Tell us about your property and we'll schedule a site visit. No obligationâ€”just a conversation about what's possible.
        </p>
      </div>
    </div>
  </section>

  <div class="container-custom py-16">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
      <!-- Form Column -->
      <div class="lg:col-span-2">
        <div class="bg-white border border-secondary-200 rounded-2xl p-8">
          <h2 class="text-2xl font-bold text-warm-900 mb-6">Property Information</h2>

          <form action="#" method="POST" id="service-request-form" class="space-y-6">
            <!-- Property Type -->
            <div>
              <label for="property-type" class="block text-sm font-medium text-warm-700 mb-2">
                Property Type *
              </label>
              <select
                id="property-type"
                name="property_type"
                required
                class="select w-full"
              >
                <option value="">Select property type...</option>
                {propertyTypes.map((type) => (
                  <option value={type.value}>{type.label}</option>
                ))}
              </select>
            </div>

            <!-- Property Size -->
            <div>
              <label for="property-size" class="block text-sm font-medium text-warm-700 mb-2">
                Property Size (approximate acres) *
              </label>
              <input
                type="text"
                id="property-size"
                name="property_size"
                required
                class="input w-full"
                placeholder="e.g., 5 acres, or 'not sure'"
              />
            </div>

            <!-- Location -->
            <div>
              <label for="location" class="block text-sm font-medium text-warm-700 mb-2">
                Property Location *
              </label>
              <input
                type="text"
                id="location"
                name="location"
                required
                class="input w-full"
                placeholder="City, GA or full address"
              />
              <p class="text-sm text-warm-500 mt-1">
                We serve Athens and surrounding areas within ~40 miles of Bogart, GA.
              </p>
            </div>

            <!-- Current Maintenance -->
            <div>
              <label for="current-maintenance" class="block text-sm font-medium text-warm-700 mb-2">
                Current Maintenance Method
              </label>
              <select
                id="current-maintenance"
                name="current_maintenance"
                class="select w-full"
              >
                <option value="">Select current method...</option>
                {maintenanceMethods.map((method) => (
                  <option value={method.value}>{method.label}</option>
                ))}
              </select>
            </div>

            <!-- Timeline -->
            <div>
              <label for="timeline" class="block text-sm font-medium text-warm-700 mb-2">
                When do you need service?
              </label>
              <select
                id="timeline"
                name="timeline"
                class="select w-full"
              >
                <option value="">Select timeline...</option>
                {timelines.map((timeline) => (
                  <option value={timeline.value}>{timeline.label}</option>
                ))}
              </select>
            </div>

            <hr class="border-secondary-200 my-8" />

            <h2 class="text-2xl font-bold text-warm-900 mb-6">Contact Information</h2>

            <!-- Name -->
            <div>
              <label for="name" class="block text-sm font-medium text-warm-700 mb-2">
                Your Name *
              </label>
              <input
                type="text"
                id="name"
                name="name"
                required
                class="input w-full"
                placeholder="John Smith"
              />
            </div>

            <!-- Email -->
            <div>
              <label for="email" class="block text-sm font-medium text-warm-700 mb-2">
                Email Address *
              </label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="input w-full"
                placeholder="john@example.com"
              />
            </div>

            <!-- Phone -->
            <div>
              <label for="phone" class="block text-sm font-medium text-warm-700 mb-2">
                Phone Number *
              </label>
              <input
                type="tel"
                id="phone"
                name="phone"
                required
                class="input w-full"
                placeholder="(706) 555-1234"
              />
            </div>

            <!-- Organization -->
            <div>
              <label for="organization" class="block text-sm font-medium text-warm-700 mb-2">
                Company/Organization (optional)
              </label>
              <input
                type="text"
                id="organization"
                name="organization"
                class="input w-full"
                placeholder="HOA name, company, etc."
              />
            </div>

            <!-- Notes -->
            <div>
              <label for="notes" class="block text-sm font-medium text-warm-700 mb-2">
                Additional Notes (optional)
              </label>
              <textarea
                id="notes"
                name="notes"
                rows="4"
                class="input w-full resize-none"
                placeholder="Tell us anything else about your property or specific needs..."
              ></textarea>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              class="btn-primary w-full text-lg py-4"
            >
              Submit Request
            </button>

            <p class="text-sm text-warm-500 text-center">
              We'll contact you within 24 hours to schedule your free assessment.
            </p>
          </form>
        </div>
      </div>

      <!-- Sidebar -->
      <div class="lg:col-span-1">
        <!-- What to Expect -->
        <div class="bg-accent-50 rounded-2xl p-6 mb-6">
          <h3 class="text-lg font-bold text-warm-900 mb-4">What to Expect</h3>
          <ol class="space-y-4">
            <li class="flex gap-3">
              <div class="w-6 h-6 bg-accent-500 rounded-full flex items-center justify-center flex-shrink-0 text-white text-sm font-bold">
                1
              </div>
              <div>
                <p class="font-medium text-warm-900">We'll call you</p>
                <p class="text-sm text-warm-600">Within 24 hours to discuss your property</p>
              </div>
            </li>
            <li class="flex gap-3">
              <div class="w-6 h-6 bg-accent-500 rounded-full flex items-center justify-center flex-shrink-0 text-white text-sm font-bold">
                2
              </div>
              <div>
                <p class="font-medium text-warm-900">Site visit scheduled</p>
                <p class="text-sm text-warm-600">Free on-site assessment</p>
              </div>
            </li>
            <li class="flex gap-3">
              <div class="w-6 h-6 bg-accent-500 rounded-full flex items-center justify-center flex-shrink-0 text-white text-sm font-bold">
                3
              </div>
              <div>
                <p class="font-medium text-warm-900">Custom proposal</p>
                <p class="text-sm text-warm-600">Detailed plan and pricing</p>
              </div>
            </li>
          </ol>
        </div>

        <!-- Contact Info -->
        <div class="bg-warm-100 rounded-2xl p-6 mb-6">
          <h3 class="text-lg font-bold text-warm-900 mb-4">Prefer to Call?</h3>
          <p class="text-warm-600 mb-4">
            We're happy to chat about your property over the phone.
          </p>
          <a
            href="tel:+1-706-613-4415"
            class="flex items-center gap-3 text-accent-600 font-semibold hover:text-accent-700"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
            </svg>
            (706) 613-4415
          </a>
        </div>

        <!-- Service Areas -->
        <div class="bg-white border border-secondary-200 rounded-2xl p-6">
          <h3 class="text-lg font-bold text-warm-900 mb-4">Service Areas</h3>
          <p class="text-warm-600 mb-4 text-sm">
            We serve properties within approximately 40 miles of Bogart, GA, including:
          </p>
          <ul class="text-sm text-warm-600 space-y-1">
            <li>Athens-Clarke County</li>
            <li>Oconee County</li>
            <li>Madison County</li>
            <li>Jackson County</li>
            <li>Barrow County</li>
            <li>Walton County</li>
          </ul>
          <p class="text-sm text-warm-500 mt-4">
            Not sure if you're in our area? Just ask!
          </p>
        </div>
      </div>
    </div>
  </div>
</MainLayout>

<script>
  // Form submission handling
  const form = document.getElementById('service-request-form');

  form?.addEventListener('submit', (e) => {
    e.preventDefault();

    // Get form data
    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());

    // For now, just show a success message
    // TODO: Connect to backend API or email service
    alert('Thank you for your request! We\'ll contact you within 24 hours to schedule your free assessment.');

    // Reset form
    form.reset();

    // Log for debugging (remove in production)
    console.log('Service request submitted:', data);
  });
</script>
